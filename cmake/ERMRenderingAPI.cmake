if(NOT ERM_RENDERING_API)
    set(ERM_RENDERING_API "VULKAN" CACHE STRING "" FORCE)
endif()

if("${ERM_RENDERING_API}" STREQUAL "VULKAN")
    set(ERM_VULKAN ON CACHE BOOL "" FORCE)
    set(ERM_RENDERING_API_COMPILE_DEF "ERM_VULKAN" CACHE STRING "" FORCE)
    find_package(Vulkan REQUIRED)
    set(ERM_RENDERING_API_LIB "${Vulkan_LIBRARIES}" CACHE STRING "" FORCE)
    set(ERM_RENDERING_API_INCLUDE_DIR "${Vulkan_INCLUDE_DIR}" CACHE STRING "" FORCE)
elseif("${ERM_RENDERING_API}" STREQUAL "DX12")
    set(ERM_DX12 ON CACHE BOOL "" FORCE)
    set(ERM_RENDERING_API_COMPILE_DEF "ERM_DX12" CACHE STRING "" FORCE)
    find_package(DX12 REQUIRED)
    set(ERM_RENDERING_API_LIB "${DX12_Libraries}" CACHE STRING "" FORCE)
elseif("${ERM_RENDERING_API}" STREQUAL "OPEN_GL")
    set(ERM_OPEN_GL ON CACHE BOOL "" FORCE)
    set(ERM_RENDERING_API_COMPILE_DEF "ERM_OPEN_GL" CACHE STRING "" FORCE)
    find_package(OpenGL REQUIRED)
    set(ERM_RENDERING_API_LIB "${OPENGL_gl_LIBRARY}" CACHE STRING "" FORCE)
else()
    message(FATAL_ERROR "Rendering API not supported ${ERM_RENDERING_API}")
endif()

if(ERM_DX12 AND NOT ERM_HOST_WINDOWS)
    message(FATAL_ERROR "DX12 rendering API is only available on windows")
endif()

message(STATUS "Using ${ERM_RENDERING_API} rendering API")
